(window.webpackJsonp=window.webpackJsonp||[]).push([[199],{1219:function(a,s,t){"use strict";t.r(s);var e=t(3),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"koa2简析结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#koa2简析结构"}},[a._v("#")]),a._v(" koa2简析结构")]),a._v(" "),t("h2",{attrs:{id:"源码文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#源码文件"}},[a._v("#")]),a._v(" 源码文件")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("├── lib\n│   ├── application.js\n│   ├── context.js\n│   ├── request.js\n│   └── response.js\n└── package.json\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("p",[a._v("这个就是 "),t("code",[a._v("GitHub")]),a._v(" "),t("a",{attrs:{href:"https://github.com/koajs/koa/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://github.com/koajs/koa"),t("OutboundLink")],1),a._v("上开源的koa2源码的源文件结构，核心代码就是lib目录下的四个文件")]),a._v(" "),t("ul",[t("li",[a._v("application.js 是整个koa2 的入口文件，封装了context，request，response，以及最核心的中间件处理流程。")]),a._v(" "),t("li",[a._v("context.js 处理应用上下文，里面直接封装部分request.js和response.js的方法")]),a._v(" "),t("li",[a._v("request.js 处理http请求")]),a._v(" "),t("li",[a._v("response.js 处理http响应")])]),a._v(" "),t("h2",{attrs:{id:"koa2特性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#koa2特性"}},[a._v("#")]),a._v(" koa2特性")]),a._v(" "),t("ul",[t("li",[a._v("只提供封装好http上下文、请求、响应，以及基于"),t("code",[a._v("async/await")]),a._v("的中间件容器。")]),a._v(" "),t("li",[a._v("利用ES7的"),t("code",[a._v("async/await")]),a._v("的来处理传统回调嵌套问题和代替koa@1的generator，但是需要在node.js 7.x的harmony模式下才能支持"),t("code",[a._v("async/await")]),a._v("。")]),a._v(" "),t("li",[a._v("中间件只支持 "),t("code",[a._v("async/await")]),a._v(" 封装的，如果要使用koa@1基于generator中间件，需要通过中间件koa-convert封装一下才能使用。")])])])}),[],!1,null,null,null);s.default=n.exports}}]);